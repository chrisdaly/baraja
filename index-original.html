<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Aprende Espa√±ol</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Caveat:wght@700&family=Fredoka+One&family=Permanent+Marker&family=Indie+Flower&display=swap"
      rel="stylesheet"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        background: #ffe8b5;
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 20px;
        position: relative;
        overflow: hidden;
      }

      /* Background image container */
      .background-image {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: 0;
        background: #ffe8b5;
      }

      /* Overlay to soften the background */
      .background-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(255, 248, 231, 0.75);
        backdrop-filter: blur(3px);
        z-index: 0;
      }

      .container {
        max-width: 420px;
        width: 100%;
        position: relative;
        z-index: 1;
      }

      .header {
        text-align: center;
        margin-bottom: 24px;
        background: rgba(255, 255, 255, 0.95);
        padding: 20px;
        border-radius: 20px;
        box-shadow: 0 4px 0 #2c2c2c, 0 6px 20px rgba(0, 0, 0, 0.2);
        border: 3px solid #2c2c2c;
        position: relative;
        overflow: hidden;
        backdrop-filter: blur(10px);
      }

      .header::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 12px;
        background: linear-gradient(
          to bottom,
          #c60b1e 0%,
          #c60b1e 30%,
          #ffc400 30%,
          #ffc400 70%,
          #c60b1e 70%,
          #c60b1e 100%
        );
      }

      .header::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        opacity: 0.05;
        pointer-events: none;
      }

      h1 {
        font-size: 36px;
        font-weight: 900;
        color: #2c2c2c;
        margin-bottom: 4px;
        letter-spacing: 2px;
        text-transform: uppercase;
        font-family: "Fredoka One", cursive;
        text-shadow: 2px 2px 4px rgba(255, 255, 255, 0.5);
        position: relative;
        z-index: 1;
      }

      .subtitle {
        font-size: 13px;
        color: #2c2c2c;
        font-weight: 700;
        letter-spacing: 3px;
        text-transform: uppercase;
        font-family: "Permanent Marker", cursive;
        text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.5);
        position: relative;
        z-index: 1;
      }

      .stats {
        display: flex;
        gap: 12px;
        margin-bottom: 20px;
      }

      .stat-box {
        flex: 1;
        background: rgba(255, 255, 255, 0.95);
        padding: 16px;
        border-radius: 16px;
        text-align: center;
        border: 3px solid #8b4513;
        box-shadow: 0 4px 0 #5c2e0f;
        position: relative;
        backdrop-filter: blur(10px);
      }

      .stat-box::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 6px;
        background: linear-gradient(
          to right,
          #c60b1e 0%,
          #c60b1e 33%,
          #ffc400 33%,
          #ffc400 66%,
          #c60b1e 66%,
          #c60b1e 100%
        );
        border-radius: 13px 13px 0 0;
      }

      .stat-box::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        opacity: 0.03;
        pointer-events: none;
        border-radius: 13px;
      }

      .stat-label {
        font-size: 11px;
        color: #666;
        font-weight: 700;
        margin-bottom: 4px;
        text-transform: uppercase;
        letter-spacing: 1px;
        font-family: "Permanent Marker", cursive;
      }

      .stat-value {
        font-size: 28px;
        font-weight: 900;
        color: #2c2c2c;
        font-family: "Fredoka One", cursive;
        position: relative;
      }

      .progress-container {
        background: rgba(255, 255, 255, 0.95);
        padding: 18px;
        border-radius: 16px;
        margin-bottom: 20px;
        border: 3px solid #8b4513;
        box-shadow: 0 4px 0 #5c2e0f;
        position: relative;
        backdrop-filter: blur(10px);
      }

      .progress-container::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 6px;
        background: linear-gradient(
          to right,
          #c60b1e 0%,
          #c60b1e 33%,
          #ffc400 33%,
          #ffc400 66%,
          #c60b1e 66%,
          #c60b1e 100%
        );
        border-radius: 13px 13px 0 0;
      }

      .progress-container::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        opacity: 0.03;
        pointer-events: none;
        border-radius: 13px;
      }

      .progress-label {
        font-size: 12px;
        color: #666;
        font-weight: 700;
        margin-bottom: 10px;
        letter-spacing: 1px;
        position: relative;
        z-index: 1;
        font-family: "Permanent Marker", cursive;
      }

      .progress-bar {
        height: 16px;
        background: #f5f5f5;
        border-radius: 20px;
        overflow: hidden;
        border: 2px solid #8b4513;
        position: relative;
        z-index: 1;
      }

      .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, #c60b1e, #ffc400, #c60b1e);
        border-radius: 20px;
        transition: width 0.5s ease;
        position: relative;
      }

      .card-container {
        margin-bottom: 20px;
        height: 480px;
        perspective: 1000px;
        position: relative;
      }

      .card {
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        left: 0;
        transform-style: preserve-3d;
        transition: transform 0.6s;
      }

      .card.flipped {
        transform: rotateY(180deg);
      }

      .card.swipe-left {
        animation: swipeLeft 0.5s ease-out forwards;
      }

      .card.swipe-right {
        animation: swipeRight 0.5s ease-out forwards;
      }

      @keyframes swipeLeft {
        to {
          transform: translateX(-120%) rotateZ(-15deg);
          opacity: 0;
        }
      }

      @keyframes swipeRight {
        to {
          transform: translateX(120%) rotateZ(15deg);
          opacity: 0;
        }
      }

      .card-face {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        backface-visibility: hidden;
        border-radius: 16px;
        padding: 40px 32px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        border: 4px solid #8b4513;
        box-shadow: 0 0 0 2px #d4a574 inset, 0 0 0 8px #8b4513 inset, 0 6px 0 #5c2e0f, 0 10px 30px rgba(0, 0, 0, 0.25);
        overflow: hidden;
        backdrop-filter: blur(10px);
      }

      .card-front {
        background: linear-gradient(135deg, rgba(255, 245, 230, 0.97) 0%, rgba(255, 232, 204, 0.97) 100%);
      }

      .card-front::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 8px;
        background: linear-gradient(
          to bottom,
          #c60b1e 0%,
          #c60b1e 33%,
          #ffc400 33%,
          #ffc400 66%,
          #c60b1e 66%,
          #c60b1e 100%
        );
      }

      .card-back {
        background: linear-gradient(135deg, rgba(255, 249, 240, 0.97) 0%, rgba(255, 232, 204, 0.97) 100%);
        transform: rotateY(180deg);
      }

      .card-back::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 8px;
        background: linear-gradient(
          to bottom,
          #c60b1e 0%,
          #c60b1e 33%,
          #ffc400 33%,
          #ffc400 66%,
          #c60b1e 66%,
          #c60b1e 100%
        );
      }

      /* Ornate corner decorations */
      .card-corner {
        position: absolute;
        width: 40px;
        height: 40px;
        border-style: solid;
        border-color: #8b4513;
        opacity: 0.4;
      }

      .corner-tl {
        top: 16px;
        left: 16px;
        border-width: 3px 0 0 3px;
        border-radius: 8px 0 0 0;
      }

      .corner-tr {
        top: 16px;
        right: 16px;
        border-width: 3px 3px 0 0;
        border-radius: 0 8px 0 0;
      }

      .corner-bl {
        bottom: 16px;
        left: 16px;
        border-width: 0 0 3px 3px;
        border-radius: 0 0 0 8px;
      }

      .corner-br {
        bottom: 16px;
        right: 16px;
        border-width: 0 3px 3px 0;
        border-radius: 0 0 8px 0;
      }

      /* Aged paper texture */
      .card-face::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: radial-gradient(circle at 20% 30%, rgba(139, 69, 19, 0.05) 0%, transparent 50%),
          radial-gradient(circle at 80% 70%, rgba(139, 69, 19, 0.05) 0%, transparent 50%),
          url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        opacity: 0.08;
        pointer-events: none;
        border-radius: 12px;
      }

      /* Decorative suit symbols */
      .card-suit {
        position: absolute;
        opacity: 0.12;
        font-size: 60px;
      }

      .suit-tl {
        top: 50px;
        left: 20px;
      }

      .suit-br {
        bottom: 50px;
        right: 20px;
        transform: rotate(180deg);
      }

      .spanish-text {
        font-size: 48px;
        font-weight: 700;
        text-align: center;
        color: #2c2c2c;
        margin-bottom: 32px;
        line-height: 1.3;
        letter-spacing: 0px;
        text-transform: lowercase;
        position: relative;
        z-index: 1;
        font-family: "Caveat", cursive;
      }

      .spanish-text::after {
        content: "";
        position: absolute;
        bottom: -8px;
        left: 50%;
        transform: translateX(-50%);
        width: 80%;
        height: 3px;
        background: #ff8b60;
        border-radius: 2px;
        opacity: 0.5;
      }

      .english-text {
        font-size: 22px;
        font-weight: 700;
        text-align: center;
        color: #2c2c2c;
        margin-bottom: 28px;
        letter-spacing: -0.3px;
        padding-bottom: 16px;
        position: relative;
        z-index: 1;
      }

      .english-text::after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 90%;
        height: 3px;
        background: repeating-linear-gradient(90deg, #ffd66d 0px, #ffd66d 8px, transparent 8px, transparent 12px);
      }

      .audio-controls {
        display: flex;
        gap: 12px;
        margin-bottom: 24px;
        position: relative;
        z-index: 1;
      }

      .audio-btn,
      .mic-btn {
        width: 56px;
        height: 56px;
        border-radius: 50%;
        border: 3px solid #8b4513;
        font-size: 24px;
        cursor: pointer;
        transition: transform 0.2s;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 0 #5c2e0f;
      }

      .audio-btn {
        background: #ffd66d;
      }

      .audio-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 0 #5c2e0f;
      }

      .audio-btn:active {
        transform: translateY(2px);
        box-shadow: 0 2px 0 #5c2e0f;
      }

      .mic-btn {
        background: #ff8b94;
      }

      .mic-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 0 #5c2e0f;
      }

      .mic-btn:active {
        transform: translateY(2px);
        box-shadow: 0 2px 0 #5c2e0f;
      }

      .mic-btn.recording {
        animation: pulse 1s infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.08);
          box-shadow: 0 6px 0 #5c2e0f, 0 0 0 8px rgba(255, 139, 148, 0.3);
        }
      }

      .examples {
        width: 100%;
        margin-top: 16px;
        position: relative;
        z-index: 1;
      }

      .example {
        background: rgba(255, 255, 255, 0.9);
        padding: 14px 18px;
        margin: 10px 0;
        border-radius: 12px;
        font-size: 18px;
        color: #2c2c2c;
        border: 2px solid #8b4513;
        font-weight: 600;
        position: relative;
        padding-left: 30px;
        font-family: "Indie Flower", cursive;
        line-height: 1.4;
      }

      .example::before {
        content: "‚Üí";
        position: absolute;
        left: 12px;
        color: #ff8b60;
        font-weight: 900;
      }

      .example::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        opacity: 0.03;
        pointer-events: none;
        border-radius: 10px;
      }

      .flip-hint {
        font-size: 14px;
        color: #999;
        margin-top: 20px;
        font-weight: 600;
        letter-spacing: 0.5px;
        position: relative;
        z-index: 1;
        font-family: "Indie Flower", cursive;
      }

      .actions {
        display: flex;
        gap: 12px;
      }

      .action-btn {
        flex: 1;
        padding: 20px;
        border: 3px solid #8b4513;
        border-radius: 16px;
        font-size: 16px;
        font-weight: 800;
        cursor: pointer;
        transition: transform 0.2s;
        text-transform: lowercase;
        letter-spacing: 0.5px;
        position: relative;
        overflow: hidden;
        backdrop-filter: blur(10px);
        font-family: "Permanent Marker", cursive;
      }

      .action-btn::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        opacity: 0.03;
        pointer-events: none;
      }

      .review-btn {
        background: rgba(255, 255, 255, 0.95);
        color: #2c2c2c;
        box-shadow: 0 4px 0 #5c2e0f;
      }

      .review-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 0 #5c2e0f;
      }

      .review-btn:active {
        transform: translateY(2px);
        box-shadow: 0 2px 0 #5c2e0f;
      }

      .know-btn {
        background: rgba(107, 207, 127, 0.95);
        color: #2c2c2c;
        box-shadow: 0 4px 0 #5c2e0f;
      }

      .know-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 0 #5c2e0f;
      }

      .know-btn:active {
        transform: translateY(2px);
        box-shadow: 0 2px 0 #5c2e0f;
      }

      .recognition-feedback {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(255, 255, 255, 0.98);
        padding: 36px;
        border-radius: 20px;
        box-shadow: 0 6px 0 #5c2e0f, 0 10px 40px rgba(0, 0, 0, 0.3);
        z-index: 1000;
        text-align: center;
        border: 4px solid #8b4513;
        display: none;
        max-width: 320px;
        backdrop-filter: blur(10px);
      }

      .recognition-feedback::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 10px;
        background: linear-gradient(
          to right,
          #c60b1e 0%,
          #c60b1e 33%,
          #ffc400 33%,
          #ffc400 66%,
          #c60b1e 66%,
          #c60b1e 100%
        );
        border-radius: 16px 16px 0 0;
      }

      .recognition-feedback::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        opacity: 0.03;
        pointer-events: none;
        border-radius: 16px;
      }

      .recognition-feedback.show {
        display: block;
        animation: fadeInScale 0.3s ease-out;
      }

      @keyframes fadeInScale {
        from {
          opacity: 0;
          transform: translate(-50%, -50%) scale(0.9);
        }
        to {
          opacity: 1;
          transform: translate(-50%, -50%) scale(1);
        }
      }

      .feedback-icon {
        font-size: 56px;
        margin-bottom: 16px;
        position: relative;
        z-index: 1;
      }

      .feedback-text {
        font-size: 24px;
        font-weight: 800;
        color: #2c2c2c;
        margin-bottom: 12px;
        letter-spacing: 1px;
        position: relative;
        z-index: 1;
        font-family: "Fredoka One", cursive;
      }

      .heard-text {
        font-size: 16px;
        color: #666;
        font-weight: 600;
        position: relative;
        z-index: 1;
        font-family: "Indie Flower", cursive;
      }
    </style>
  </head>
  <body>
    <!-- Background with M√°laga illustration -->
    <div class="background-image">
      <svg
        width="100%"
        height="100%"
        viewBox="0 0 1200 800"
        preserveAspectRatio="xMidYMid slice"
        xmlns="http://www.w3.org/2000/svg"
      >
        <!-- Sky -->
        <rect width="1200" height="800" fill="#FFF4DC" />

        <!-- Ocean -->
        <ellipse cx="600" cy="750" rx="900" ry="200" fill="#4ECDC4" opacity="0.8" />
        <ellipse cx="600" cy="760" rx="850" ry="180" fill="#3FB8B8" opacity="0.7" />

        <!-- Waves -->
        <path d="M0,700 Q150,690 300,700 T600,700 T900,700 T1200,700 L1200,800 L0,800 Z" fill="#5DD9D9" opacity="0.6" />
        <path d="M0,720 Q200,710 400,720 T800,720 T1200,720 L1200,800 L0,800 Z" fill="#6FE6E6" opacity="0.5" />

        <!-- Background hills -->
        <ellipse cx="300" cy="550" rx="250" ry="180" fill="#A8E6CF" opacity="0.4" />
        <ellipse cx="900" cy="520" rx="280" ry="200" fill="#7FD8A8" opacity="0.3" />

        <!-- Buildings back row -->
        <rect x="100" y="400" width="100" height="180" rx="5" fill="#FFB6C1" opacity="0.8" />
        <rect x="220" y="420" width="90" height="160" rx="5" fill="#FF8FA3" opacity="0.8" />
        <rect x="330" y="410" width="80" height="170" rx="5" fill="#FFDAB9" opacity="0.8" />

        <!-- Main pink buildings -->
        <rect x="150" y="450" width="120" height="200" rx="5" fill="#FF8FA3" />
        <circle cx="210" cy="480" r="15" fill="#FFD6E0" />
        <rect x="165" y="520" width="15" height="25" fill="#8B4058" />
        <rect x="195" y="520" width="15" height="25" fill="#8B4058" />
        <rect x="225" y="520" width="15" height="25" fill="#8B4058" />

        <!-- Tower -->
        <rect x="280" y="420" width="60" height="230" rx="5" fill="#FF6B8A" />
        <rect x="290" y="435" width="15" height="20" fill="#8B4058" />
        <rect x="315" y="435" width="15" height="20" fill="#8B4058" />
        <circle cx="310" cy="430" r="8" fill="#FFC0CB" />

        <!-- Yellow/Orange buildings -->
        <rect x="360" y="470" width="100" height="180" rx="5" fill="#FFDAA5" />
        <rect x="480" y="460" width="110" height="190" rx="5" fill="#FFD89C" />
        <rect x="375" y="510" width="12" height="18" fill="#8B6914" />
        <rect x="395" y="510" width="12" height="18" fill="#8B6914" />
        <rect x="415" y="510" width="12" height="18" fill="#8B6914" />

        <!-- Turquoise/Blue buildings -->
        <rect x="610" y="480" width="95" height="170" rx="5" fill="#89CFF0" />
        <rect x="720" y="470" width="100" height="180" rx="5" fill="#6FB1D4" />

        <!-- Arena/Stadium -->
        <ellipse cx="870" cy="580" rx="90" ry="70" fill="#FF69A5" />
        <rect x="780" y="580" width="180" height="70" fill="#FF8FA3" />
        <path d="M870,510 L890,540 L850,540 Z" fill="#FF69A5" opacity="0.8" />

        <!-- White lighthouse -->
        <rect x="550" y="560" width="50" height="90" rx="3" fill="#FFFFFF" />
        <rect x="545" y="545" width="60" height="20" fill="#F5F5F5" />
        <circle cx="575" cy="535" r="12" fill="#FFD700" />
        <rect x="565" y="590" width="10" height="15" fill="#4A90E2" />
        <rect x="580" y="590" width="10" height="15" fill="#4A90E2" />

        <!-- Palm trees -->
        <ellipse cx="520" cy="640" rx="8" ry="25" fill="#C19A6B" />
        <path d="M510,625 Q505,615 500,625" fill="none" stroke="#6FBC6C" stroke-width="3" />
        <path d="M520,620 Q525,610 530,620" fill="none" stroke="#6FBC6C" stroke-width="3" />
        <path d="M515,625 Q510,613 505,625" fill="none" stroke="#7FCC7C" stroke-width="3" />
        <path d="M525,625 Q530,613 535,625" fill="none" stroke="#7FCC7C" stroke-width="3" />

        <ellipse cx="740" cy="640" rx="8" ry="25" fill="#C19A6B" />
        <path d="M730,625 Q725,615 720,625" fill="none" stroke="#6FBC6C" stroke-width="3" />
        <path d="M740,620 Q745,610 750,620" fill="none" stroke="#6FBC6C" stroke-width="3" />
        <path d="M735,625 Q730,613 725,625" fill="none" stroke="#7FCC7C" stroke-width="3" />
        <path d="M745,625 Q750,613 755,625" fill="none" stroke="#7FCC7C" stroke-width="3" />

        <!-- Sailboat -->
        <path d="M200,720 L200,680 L230,720 Z" fill="#FFFFFF" />
        <rect x="198" y="680" width="4" height="45" fill="#8B4513" />
        <ellipse cx="200" cy="725" rx="25" ry="8" fill="#654321" />

        <!-- Decorative elements -->
        <circle cx="150" cy="300" r="40" fill="#FFD700" opacity="0.6" />
        <circle cx="950" cy="250" r="50" fill="#FFA07A" opacity="0.5" />

        <!-- Clouds -->
        <ellipse cx="200" cy="200" rx="60" ry="30" fill="#FFFFFF" opacity="0.7" />
        <ellipse cx="180" cy="210" rx="40" ry="25" fill="#FFFFFF" opacity="0.7" />
        <ellipse cx="220" cy="210" rx="45" ry="28" fill="#FFFFFF" opacity="0.7" />

        <ellipse cx="900" cy="180" rx="70" ry="35" fill="#FFFFFF" opacity="0.7" />
        <ellipse cx="875" cy="190" rx="45" ry="30" fill="#FFFFFF" opacity="0.7" />
        <ellipse cx="925" cy="190" rx="50" ry="32" fill="#FFFFFF" opacity="0.7" />

        <!-- Foreground greenery -->
        <ellipse cx="50" cy="680" rx="80" ry="60" fill="#7FCC7C" opacity="0.6" />
        <ellipse cx="1150" cy="690" rx="90" ry="65" fill="#6FBC6C" opacity="0.6" />

        <!-- Decorative flowers -->
        <circle cx="80" cy="670" r="12" fill="#FF8FA3" opacity="0.7" />
        <circle cx="90" cy="675" r="10" fill="#FFB6C1" opacity="0.7" />
        <circle cx="1120" cy="680" r="14" fill="#FFDAA5" opacity="0.7" />
      </svg>
    </div>
    <div class="background-overlay"></div>

    <div class="container">
      <div class="header">
        <h1>Espa√±ol</h1>
        <div class="subtitle">~ tarjetas diarias ~</div>
      </div>

      <div class="stats">
        <div class="stat-box">
          <div class="stat-label">hoy</div>
          <div class="stat-value" id="todayCount">0</div>
        </div>
        <div class="stat-box">
          <div class="stat-label">racha</div>
          <div class="stat-value" id="streak">üî•1</div>
        </div>
        <div class="stat-box">
          <div class="stat-label">total</div>
          <div class="stat-value" id="totalCards">8</div>
        </div>
      </div>

      <div class="progress-container">
        <div class="progress-label">tu progreso hoy</div>
        <div class="progress-bar">
          <div class="progress-fill" id="progressFill" style="width: 0%"></div>
        </div>
      </div>

      <div class="card-container">
        <div class="card" id="flashcard">
          <div class="card-face card-front">
            <div class="card-corner corner-tl"></div>
            <div class="card-corner corner-tr"></div>
            <div class="card-corner corner-bl"></div>
            <div class="card-corner corner-br"></div>
            <div class="card-suit suit-tl">üèÜ</div>
            <div class="card-suit suit-br">üèÜ</div>

            <div class="spanish-text" id="spanishText">es una broma</div>
            <div class="audio-controls">
              <button class="audio-btn" id="speakBtn" title="Escuchar">üîä</button>
              <button class="mic-btn" id="micBtn" title="Practicar">üé§</button>
            </div>
            <div class="flip-hint">toca para voltear ‚Üí</div>
          </div>
          <div class="card-face card-back">
            <div class="card-corner corner-tl"></div>
            <div class="card-corner corner-tr"></div>
            <div class="card-corner corner-bl"></div>
            <div class="card-corner corner-br"></div>
            <div class="card-suit suit-tl">‚öúÔ∏è</div>
            <div class="card-suit suit-br">‚öúÔ∏è</div>

            <div class="english-text" id="englishText">it's a joke / it's a prank</div>
            <div class="examples" id="examples">
              <div class="example">¬øEs una broma?</div>
              <div class="example">No es una broma, es serio.</div>
              <div class="example">Me gusta hacer bromas.</div>
            </div>
            <div class="flip-hint">‚Üê toca para volver</div>
          </div>
        </div>
      </div>

      <div class="actions">
        <button class="action-btn review-btn" id="reviewBtn">todav√≠a no üîÑ</button>
        <button class="action-btn know-btn" id="knowBtn">¬°ya est√°! ‚úÖ</button>
      </div>
    </div>

    <div class="recognition-feedback" id="feedback">
      <div class="feedback-icon" id="feedbackIcon">üéâ</div>
      <div class="feedback-text" id="feedbackText">¬°Excelente!</div>
      <div class="heard-text" id="heardText"></div>
    </div>

    <script>
      const flashcards = [
        {
          spanish: "es una broma",
          english: "it's a joke / it's a prank",
          examples: ["¬øEs una broma?", "No es una broma, es serio.", "Me gusta hacer bromas."],
        },
        {
          spanish: "¬°qu√© chulo!",
          english: "how cool! / awesome!",
          examples: ["¬°Qu√© chulo tu coche!", "Es un dise√±o muy chulo.", "¬°Qu√© chulo est√° este lugar!"],
        },
        {
          spanish: "me da igual",
          english: "I don't care / it's all the same to me",
          examples: ["Me da igual lo que pienses.", "¬øPizza o pasta? Me da igual.", "A m√≠ me da igual."],
        },
        {
          spanish: "estar de baj√≥n",
          english: "to feel down / to be depressed",
          examples: ["Hoy estoy de baj√≥n.", "Est√° de baj√≥n desde ayer.", "No est√©s de baj√≥n, todo mejorar√°."],
        },
        {
          spanish: "¬°ni hablar!",
          english: "no way! / out of the question!",
          examples: ["¬øPuedo ir? ¬°Ni hablar!", "¬°Ni hablar de eso!", "¬øPrestarte dinero? ¬°Ni hablar!"],
        },
        {
          spanish: "estar hasta las narices",
          english: "to be fed up / sick and tired",
          examples: [
            "Estoy hasta las narices de esto.",
            "Estamos hasta las narices del ruido.",
            "¬°Ya estoy hasta las narices!",
          ],
        },
        {
          spanish: "dar la lata",
          english: "to be annoying / to pester",
          examples: ["No des la lata.", "Siempre est√° dando la lata.", "Deja de dar la lata con eso."],
        },
        {
          spanish: "¬°qu√© guay!",
          english: "how cool! / awesome!",
          examples: ["¬°Qu√© guay es tu m√≥vil!", "¬°Qu√© guay la fiesta!", "Es muy guay."],
        },
      ];

      let currentCardIndex = 0;
      let todayCount = 0;
      let streak = 1;
      let knownCards = [];
      let reviewQueue = [];
      let isFlipped = false;

      const flashcard = document.getElementById("flashcard");
      const spanishText = document.getElementById("spanishText");
      const englishText = document.getElementById("englishText");
      const examplesDiv = document.getElementById("examples");
      const speakBtn = document.getElementById("speakBtn");
      const micBtn = document.getElementById("micBtn");
      const reviewBtn = document.getElementById("reviewBtn");
      const knowBtn = document.getElementById("knowBtn");
      const todayCountEl = document.getElementById("todayCount");
      const streakEl = document.getElementById("streak");
      const totalCardsEl = document.getElementById("totalCards");
      const progressFill = document.getElementById("progressFill");
      const feedback = document.getElementById("feedback");
      const feedbackIcon = document.getElementById("feedbackIcon");
      const feedbackText = document.getElementById("feedbackText");
      const heardText = document.getElementById("heardText");

      function init() {
        updateCard();
        updateStats();

        flashcard.addEventListener("click", flipCard);
        speakBtn.addEventListener("click", e => {
          e.stopPropagation();
          speakSpanish();
        });
        micBtn.addEventListener("click", e => {
          e.stopPropagation();
          startRecording();
        });
        reviewBtn.addEventListener("click", reviewLater);
        knowBtn.addEventListener("click", markAsKnown);
      }

      function updateCard() {
        const card = flashcards[currentCardIndex];
        spanishText.textContent = card.spanish;
        englishText.textContent = card.english;

        examplesDiv.innerHTML = "";
        card.examples.forEach(example => {
          const div = document.createElement("div");
          div.className = "example";
          div.textContent = example;
          examplesDiv.appendChild(div);
        });

        // Update suit symbols based on card index
        const suits = ["üèÜ", "‚öúÔ∏è", "üåü", "üëë", "üíé", "üé≠", "üé®", "üé™"];
        const frontSuits = document.querySelectorAll(".card-front .card-suit");
        const backSuits = document.querySelectorAll(".card-back .card-suit");
        const suitSymbol = suits[currentCardIndex % suits.length];
        frontSuits.forEach(suit => (suit.textContent = suitSymbol));
        backSuits.forEach(suit => (suit.textContent = suitSymbol));

        isFlipped = false;
        flashcard.classList.remove("flipped");
      }

      function flipCard() {
        isFlipped = !isFlipped;
        flashcard.classList.toggle("flipped", isFlipped);
      }

      function speakSpanish() {
        if ("speechSynthesis" in window) {
          const utterance = new SpeechSynthesisUtterance(spanishText.textContent);
          utterance.lang = "es-ES";
          utterance.rate = 0.85;
          speechSynthesis.cancel();
          speechSynthesis.speak(utterance);
        } else {
          alert("Tu navegador no soporta s√≠ntesis de voz üò¢");
        }
      }

      function startRecording() {
        if (!("webkitSpeechRecognition" in window) && !("SpeechRecognition" in window)) {
          alert("Tu navegador no soporta reconocimiento de voz üò¢");
          return;
        }

        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        const recognition = new SpeechRecognition();
        recognition.lang = "es-ES";
        recognition.interimResults = false;
        recognition.maxAlternatives = 1;

        micBtn.classList.add("recording");

        recognition.onresult = event => {
          const transcript = event.results[0][0].transcript.toLowerCase();
          const original = spanishText.textContent.toLowerCase();

          const similarity = checkSimilarity(transcript, original);

          if (similarity > 0.6) {
            showFeedback("üéâ", "¬°Excelente!", `Escuch√©: "${transcript}"`);
          } else {
            showFeedback("üí™", "¬°Buen intento!", `Escuch√©: "${transcript}"`);
          }

          micBtn.classList.remove("recording");
        };

        recognition.onerror = () => {
          micBtn.classList.remove("recording");
          showFeedback("üòï", "Error", "No pude escucharte bien");
        };

        recognition.onend = () => {
          micBtn.classList.remove("recording");
        };

        recognition.start();
      }

      function checkSimilarity(str1, str2) {
        const words1 = str1.split(" ");
        const words2 = str2.split(" ");
        let matches = 0;

        words1.forEach(word => {
          if (words2.some(w => w.includes(word) || word.includes(w))) {
            matches++;
          }
        });

        return matches / Math.max(words1.length, words2.length);
      }

      function showFeedback(icon, text, heard) {
        feedbackIcon.textContent = icon;
        feedbackText.textContent = text;
        heardText.textContent = heard;
        feedback.classList.add("show");

        setTimeout(() => {
          feedback.classList.remove("show");
        }, 2500);
      }

      function reviewLater() {
        flashcard.classList.add("swipe-left");

        if (!reviewQueue.includes(currentCardIndex)) {
          reviewQueue.push(currentCardIndex);
        }

        setTimeout(() => {
          moveToNextCard();
        }, 500);
      }

      function markAsKnown() {
        flashcard.classList.add("swipe-right");

        if (!knownCards.includes(currentCardIndex)) {
          knownCards.push(currentCardIndex);
          todayCount++;
        }

        setTimeout(() => {
          moveToNextCard();
        }, 500);
      }

      function moveToNextCard() {
        flashcard.classList.remove("swipe-left", "swipe-right");

        if (reviewQueue.length > 0 && Math.random() > 0.5) {
          currentCardIndex = reviewQueue.shift();
        } else {
          currentCardIndex = (currentCardIndex + 1) % flashcards.length;
        }

        updateCard();
        updateStats();
      }

      function updateStats() {
        todayCountEl.textContent = todayCount;
        streakEl.textContent = `üî•${streak}`;
        totalCardsEl.textContent = flashcards.length;

        const progress = (todayCount / flashcards.length) * 100;
        progressFill.style.width = `${Math.min(progress, 100)}%`;
      }

      init();
    </script>
  </body>
</html>
